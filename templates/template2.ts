import { circuit } from "lib/builder"

/**
 * ```
 *
 *      0.0         5.0
 *  3.4         A
 *  3.2         │
 *  3.0         │
 *  2.8         │
 *  2.6         │
 *  2.4         │
 *  2.2         │ ┌───R2──B
 *  2.0         │ │
 *  1.8 U1      │ │
 *  1.6 ┌────┐  │ │
 *  1.4 │   7├──┘ │
 *  1.2 │   6├────┘
 *  1.0 │   5├────────R3──C
 *  0.8 │   4├──────────┐
 *  0.6 │   3├────┐     │
 *  0.4 │   2├┐   │     │
 *  0.2 │   1├●   │     │
 *  0.0 └────┘│   │     │
 * -0.2       │   │     │
 * -0.4       │   │     │
 * -0.6       │   │     │
 * -0.8       │   │     │
 * -1.0       │   │     │
 * -1.2       │   │     │
 * -1.4       │   │     │
 * -1.6       │   │     │
 * -1.8       │   │     │
 * -2.0       │   │     │
 * -2.2       │   │     │
 * -2.4       │   ┴     │
 * -2.6       │         │
 * -2.8       │   R5    │
 * -3.0       │         │
 * -3.2       │         ┴
 * -3.4       │   ┬
 * -3.6       F   │     R4
 * -3.8           │
 * -4.0           │
 * -4.2           │     ┬
 * -4.4           │     │
 * -4.6           │     │
 * -4.8           │     │
 * -5.0           │     │
 * -5.2           │     │
 * -5.4           E     │
 * -5.6                 │
 * -5.8                 │
 * -6.0                 │
 * -6.2                 D
 *
 * Boxes:
 *
 *
 *                       ┌────────────────┐
 *                       │                │7  ── A
 *                       │                │6  ── R2.1
 *                       │                │5  ── R3.1
 *                       │       U1       │4  ── R4.2
 *                       │                │3  ── R5.2
 *                       │                │2  ── F,U1.1
 *                       │                │1  ── U1.2,F
 *                       └────────────────┘
 *
 *
 *                       ┌────────────────┐
 *             U1.6 ──  1│       R2       │2  ── B
 *                       └────────────────┘
 *
 *
 *                       ┌────────────────┐
 *             U1.5 ──  1│       R3       │2  ── C
 *                       └────────────────┘
 *
 *
 *                              U1.4
 *                               │
 *                               2
 *                       ┌────────────────┐
 *                       │       R4       │
 *                       └────────────────┘
 *                               1
 *                               │
 *                               D
 *
 *
 *                              U1.3
 *                               │
 *                               2
 *                       ┌────────────────┐
 *                       │       R5       │
 *                       └────────────────┘
 *                               1
 *                               │
 *                               E
 *
 * Complex Connections (more than 2 points):
 *   - complex connection[0]:
 *     - U1.2
 *     - F
 *     - U1.1
 * ```
 */
export default () => {
  const C = circuit()
  const U1 = C.chip().rightpins(7)

  U1.pin(7).line(2, 0).line(0, 2).label()
  U1.pin(6).line(3, 0).line(0, 1).line(2, 0).passive().line(2, 0).label()
  U1.pin(5).line(5, 0).passive().line(2, 0).label()
  U1.pin(4).line(6, 0).line(0, -4).passive().line(0, -2).label()
  U1.pin(3).line(3, 0).line(0, -3).passive().line(0, -2).label()
  U1.pin(2).line(1, 0).line(0, -4).label() // Default label "L"

  // Pin 7 connects to the horizontal segment of Pin 6's trace
  U1.pin(1).line(1, 0).intersect()

  return C
}
